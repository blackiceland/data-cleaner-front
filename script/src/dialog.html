<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <script src="https://cdn.tailwindcss.com/3.4.4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
            margin: 0;
            font-family: 'Noto Sans', ui-sans-serif, sans-serif
        }

        .fade-in {
            animation: fade 120ms cubic-bezier(.2, 0, .38, .9) forwards
        }

        @keyframes fade {
            from {
                opacity: 0;
                transform: translateY(8px)
            }
            to {
                opacity: 1;
                transform: none
            }
        }
    </style>
</head>
<body class="flex flex-col h-full fade-in">

<!-- ===== Body scroll ===== -->
<div class="flex-auto overflow-auto p-6 space-y-6">

    <!-- Dirty-meter -->
    <div id="meter" class="text-sm text-gray-600">
        <span class="font-semibold">Duplicates:</span> <span id="dupPct">–</span>,
        <span class="font-semibold">Blanks:</span> <span id="blankPct">–</span>,
        <span class="font-semibold">Weird dates:</span> <span id="datePct">–</span>
    </div>

    <!-- Range + Clean -->
    <div class="flex items-center space-x-3">
        <input id="rangeInput" type="text"
               class="flex-auto border border-gray-300 rounded px-3 py-2 text-sm"
               placeholder="A1:E100 or leave blank = full sheet">
        <button id="cleanBtn"
                class="px-5 py-2 rounded bg-[#00B8D9] text-white font-semibold disabled:opacity-50">
            Clean duplicates
        </button>
    </div>

    <!-- Results -->
    <section id="results" class="space-y-8 hidden">
        <!-- Exact -->
        <div>
            <h3 class="text-lg font-semibold text-gray-800 mb-2">Exact duplicates</h3>
            <div id="exactPanel"
                 class="min-h-[80px] border border-gray-200 rounded-md flex items-center justify-center text-gray-400">
                No data yet
            </div>
        </div>

        <!-- Possible -->
        <div>
            <h3 class="text-lg font-semibold text-gray-800 mb-2">Possible duplicates</h3>
            <div id="fuzzyPanel"
                 class="min-h-[80px] border border-gray-200 rounded-md flex items-center justify-center text-gray-400">
                No data yet
            </div>
        </div>
    </section>
</div>

<!-- ===== Status bar ===== -->
<footer id="statusBar"
        class="flex-none px-6 py-3 border-t border-gray-200 text-sm text-center text-gray-600">
    Ready.
</footer>

<!-- ========== JS ========== -->
<script>
    const cleanBtn = document.getElementById('cleanBtn');
    const results = document.getElementById('results');
    const statusBar = m => document.getElementById('statusBar').textContent = m;

    /* demo-логика — позже заменим реальным вызовом API */
    cleanBtn.onclick = async () => {
        cleanBtn.disabled = true;
        statusBar('Scanning…');
        await new Promise(r => setTimeout(r, 800));            // имитация задержки

        document.getElementById('dupPct').textContent = '26 %';
        document.getElementById('blankPct').textContent = '8 %';
        document.getElementById('datePct').textContent = '2 %';
        results.classList.remove('hidden');

        statusBar('Scan complete. Select action.');
        cleanBtn.disabled = false;
    };
</script>
</body>
</html>
